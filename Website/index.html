<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empower Hub</title>
    <link rel="stylesheet" href="./style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
		/* More dropdown (dropbox) styles */
		.more-links { position: relative; display: inline-block; margin-left: 8px; }
		.more-btn { background: none; border: none; color: inherit; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; padding: 6px; }
		.more-dropdown { position: absolute; top: calc(100% + 8px); right: 0; min-width: 180px; background: #fff; border: 1px solid #ddd; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-radius: 6px; padding: 6px 0; z-index: 1000; }
		.more-dropdown[hidden] { display: none; }
		.more-dropdown button { width: 100%; text-align: left; padding: 10px 14px; border: none; background: transparent; cursor: pointer; font: inherit; }
		.more-dropdown button:hover { background: #f5f5f5; }
		body.dark-theme .more-dropdown { background: #1f1f1f; color: #eaeaea; border-color: #333; }
		body.dark-theme .more-dropdown button:hover { background: rgba(255,255,255,0.04); }

		/* nav click fixes: ensure header nav is above overlays and receives pointer events */
		.top-bar { position: relative; z-index: 15000; }
		.main-header { position: relative; z-index: 10000; }
		.main-nav a { cursor: pointer; pointer-events: auto; }
		.language-dropdown { position: absolute !important; z-index: 16000 !important; }
		/* if hero background overlays elements, prevent it intercepting clicks */
		.hero-background { pointer-events: none; }

		/* Modal overlay handling: hidden modals must not block clicks */
		.modal-overlay[hidden] { display: none !important; pointer-events: none; }
		.modal-overlay { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; z-index: 13000; background: rgba(0,0,0,0.5); }
		.modal-overlay.active { display: flex; }
		.modal-content { background: white; border-radius: 12px; max-width: 600px; max-height: 80vh; overflow-y: auto; margin: 20px; }
		.modal-close { position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 24px; cursor: pointer; }
		.modal-body { padding: 20px; }
		.modal-header h2 { margin: 0 0 10px 0; color: #0f0a40; }
		.modal-category { background: #e3f2fd; color: #0f0a40; padding: 4px 12px; border-radius: 20px; font-size: 14px; }
		.modal-section { margin: 20px 0; }
		.modal-section h3 { color: #0f0a40; margin: 0 0 10px 0; }
		.modal-section p { line-height: 1.6; color: #333; }

/* Chatbot Widget Styles */
.chatbot-widget {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1000;
}

/* Chat Icon */
.chatbot-icon {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #0f0a40, #1a237e);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(15, 10, 64, 0.3);
  transition: all 0.3s ease;
  position: relative;
}

.chatbot-icon:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 20px rgba(15, 10, 64, 0.4);
}

.chatbot-icon i {
  color: white;
  font-size: 24px;
}

.notification-dot {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 12px;
  height: 12px;
  background: #ff6b35;
  border-radius: 50%;
  border: 2px solid white;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}

/* Chat Container */
.chatbot-container {
  position: absolute;
  bottom: 70px;
  right: 0;
  width: 320px;
  height: 400px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 5px 25px rgba(0,0,0,0.15);
  display: none;
  flex-direction: column;
  overflow: hidden;
  border: 1px solid #e0e0e0;
}

.chatbot-container.active {
  display: flex;
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Header */
.chatbot-header {
  background: linear-gradient(135deg, #0f0a40, #1a237e);
  color: white;
  padding: 15px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.chatbot-title {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  font-size: 16px;
}

.chatbot-title i {
  font-size: 18px;
}

.close-btn {
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  font-size: 18px;
  padding: 5px;
  border-radius: 50%;
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.close-btn:hover {
  background: rgba(255,255,255,0.1);
}

/* Messages Area */
.chatbot-messages {
  flex: 1;
  padding: 15px;
  overflow-y: auto;
  background: #fafafa;
}

.message {
  margin-bottom: 12px;
  max-width: 80%;
  padding: 10px 14px;
  border-radius: 18px;
  font-size: 14px;
  line-height: 1.4;
  word-wrap: break-word;
}

.message.bot {
  background: white;
  border: 1px solid #e0e0e0;
  margin-right: auto;
  border-bottom-left-radius: 5px;
  color: #333;
  font-weight: 500;
}

.message.user {
  background: linear-gradient(135deg, #0f0a40, #1a237e);
  color: white;
  margin-left: auto;
  border-bottom-right-radius: 5px;
}

/* Typing Indicator */
.typing-indicator {
  padding: 10px 15px;
  display: none;
}

.typing-indicator.active {
  display: block;
}

.typing-indicator span {
  display: inline-block;
  width: 8px;
  height: 8px;
  background: #ccc;
  border-radius: 50%;
  margin: 0 2px;
  animation: typing 1.4s infinite;
}

.typing-indicator span:nth-child(2) {
  animation-delay: 0.2s;
}

.typing-indicator span:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes typing {
  0%, 60%, 100% {
    transform: translateY(0);
    background: #ccc;
  }
  30% {
    transform: translateY(-5px);
    background: #0f0a40;
  }
}

/* Input Area */
.chatbot-input {
  padding: 15px;
  background: white;
  border-top: 1px solid #e0e0e0;
  display: flex;
  gap: 10px;
}

.chatbot-input input {
  flex: 1;
  padding: 10px 15px;
  border: 1px solid #ddd;
  border-radius: 25px;
  font-size: 14px;
  outline: none;
  transition: border 0.3s;
}

.chatbot-input input:focus {
  border-color: #0f0a40;
}

.chatbot-input button {
  background: linear-gradient(135deg, #0f0a40, #1a237e);
  color: white;
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.3s;
}

.chatbot-input button:hover {
  transform: scale(1.05);
}

/* Quick Actions */
.quick-actions {
  padding: 10px 15px;
  background: white;
  border-top: 1px solid #e0e0e0;
  display: flex;
  gap: 8px;
  justify-content: center;
}

.quick-actions button {
  padding: 6px 12px;
  background: #f5f5f5;
  border: 1px solid #e0e0e0;
  border-radius: 15px;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.3s;
  color: #555;
}

.quick-actions button:hover {
  background: #0f0a40;
  color: white;
  border-color: #0f0a40;
}

/* Scrollbar */
.chatbot-messages::-webkit-scrollbar {
  width: 5px;
}

.chatbot-messages::-webkit-scrollbar-track {
  background: #f1f1f1;
}

.chatbot-messages::-webkit-scrollbar-thumb {
  background: #7986cb;
  border-radius: 3px;
}

/* Responsive */
@media (max-width: 768px) {
  .chatbot-widget {
    bottom: 15px;
    right: 15px;
  }
  
  .chatbot-container {
    width: 300px;
    height: 380px;
    right: -10px;
  }
  
  .chatbot-icon {
    width: 50px;
    height: 50px;
  }
  
  .chatbot-icon i {
    font-size: 20px;
  }
}
    </style>
    <script>

        function translatePage(lang) {
            document.querySelectorAll('.translate-btn').forEach(btn => {
                btn.style.opacity = '0.7';
                btn.style.transform = 'scale(1)';
            });
            const activeBtn = document.querySelector('.translate-btn-' + lang);
            if (activeBtn) {
                activeBtn.style.opacity = '1';
                activeBtn.style.transform = 'scale(1.1)';
            }
            if (typeof changeLanguage === 'function') {
                changeLanguage(lang);
            }
            localStorage.setItem('selectedLanguage', lang);
        }

		/* small global helper used by nav onclicks — scrolls with header offset */
		function navigateTo(hash) {
			try {
				const topBar = document.querySelector('.top-bar');
				const header = document.querySelector('.main-header');
				let offset = 8;
				if (topBar) offset += topBar.getBoundingClientRect().height;
				if (header) offset += header.getBoundingClientRect().height;
				const id = (hash || '').replace(/^#/, '');
				const el = document.getElementById(id);
				if (!el) return true; // fallback to native behavior if not found
				const y = el.getBoundingClientRect().top + window.pageYOffset - Math.round(offset);
				window.scrollTo({ top: Math.max(0, Math.floor(y)), behavior: 'smooth' });
				// update URL without jump
				history.replaceState(null, '', '#' + id);
				return false;
			} catch (err) {
				return true;
			}
		}
    </script>
</head>
<body>
<!-- yo -->
    <div class="top-bar">
        <div class="container">
            <div class="top-left">
                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/4/41/Flag_of_India.svg/20px-Flag_of_India.svg.png" alt="India Flag" class="flag">
                <span data-translate="Government of India">Government of India</span>
            </div>
            <div class="top-right">
                <a href="#services" class="skip-link" data-translate="Skip to Main Content">Skip to Main Content</a>
                <div class="text-size">
                    <button onclick="changeFontSize('decrease')">-A</button>
                    <button class="active" onclick="changeFontSize('reset')">A</button>
                    <button onclick="changeFontSize('increase')">A+</button>
                </div>
                <div class="language" onclick="toggleLanguageDropdown()">
                    <span class="material-icons-outlined">language</span>
                    <span id="current-language">English</span>
                    <div class="language-dropdown" id="language-dropdown">
                        <a href="#" onclick="changeLanguage('en'); return false;">English</a>
                        <a href="#" onclick="changeLanguage('hi'); return false;">हिंदी</a>
                        <a href="#" onclick="changeLanguage('ur'); return false;">اردو</a>
                    </div>
                </div>
                <!-- More dropdown moved to top-bar, immediately to the right of language -->
                <div class="more-links" id="more-links">
                    <button class="more-btn" id="more-btn" aria-haspopup="true" aria-expanded="false" onclick="toggleMoreDropdown(event)">
                        <span class="material-icons-outlined">more_vert</span>
                        <span>More</span>
                    </button>
                    <div class="more-dropdown" id="more-dropdown" role="menu" hidden>
                        <button type="button" role="menuitem" onclick="toggleTheme(); closeMoreDropdown();">Toggle Theme</button>
                        <button type="button" role="menuitem" onclick="toggleAccessibility(); closeMoreDropdown();">Accessibility</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <header class="main-header">
        <div class="container">
            <a href="index.html" class="logo">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Emblem_of_India.svg/45px-Emblem_of_India.svg.png" alt="Govt Emblem" class="emblem">
                <h1 data-translate="Empower Hub">Empower Hub</h1>
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="#main" data-translate="Home" onclick="return navigateTo('#main')">Home</a></li>
                    <li><a href="#about" data-translate="About Us" onclick="return navigateTo('#about')">About Us</a></li>
                    <li><a href="#services" data-translate="Services" onclick="return navigateTo('#services')">Services</a></li>
                    <li><a href="#popular-cases" data-translate="Popular Cases" onclick="return navigateTo('#popular-cases')">Popular Cases</a></li>
                    <li><a href="#faq" data-translate="How it Works" onclick="return navigateTo('#faq')">How it Works</a></li>
                </ul>
            </nav>
            <div class="header-right">
                <a href="helpline.html" class="cta-button" data-translate="Quick Assist">Quick Assist</a>
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Search..." data-translate-placeholder="Search...">
                    <button class="search-btn" onclick="toggleSearch()">
                        <span class="material-icons-outlined">search</span>
                    </button>
                </div>
                <!-- more-links removed from header-right (now in top-bar) -->
            </div>
        </div>
    </header>

    <main id="main">
        <section class="hero">
            <div class="hero-background">
                </div>
            <div class="container hero-content">
                <div class="hero-text">
                    <h2 data-translate="Access Your">Access Your</h2>
                    <h1 data-translate="Rights">Rights</h1>
                    <h2 data-translate="Secure Your">Secure Your</h2>
                    <h1 data-translate="Future">Future</h1>
                </div>
                
                <!-- info-box removed -->
            </div>
            <div class="explore-btn-container">
                <a href="#services" class="explore-btn" data-translate="Explore">Explore</a>
            </div>
        </section>
    </main>

    <section class="service-finder-cta">
        <div class="container">
            <div class="service-finder-text">
                <h2>Find the right service for you</h2>
                <p>Tell us about yourself to find out the right services for you</p>
                <button class="btn btn-light">Get Started</button>
            </div>
            <div class="service-finder-map">
                </div>
        </div>
    </section>

    <section id="about" class="about-section">
        <div class="container">
            <div class="about-text">
                <h2>About Ministry/Department</h2>
                <p data-translate="We are dedicated to serving the public by [brief description of the ministry/department's mission]. Our team of experienced professionals is committed to [mention a few key objectives or areas of focus].">We are dedicated to serving the public by [brief description of the ministry/department's mission]. Our team of experienced professionals is committed to [mention a few key objectives or areas of focus].</p>
                <p data-translate="We believe in [core values or principles the ministry/department upholds]. We are here to answer your questions and provide you with the information and resources you need.">We believe in [core values or principles the ministry/department upholds]. We are here to answer your questions and provide you with the information and resources you need.</p>
                <button class="btn btn-outline">Know More</button>
            </div>
            <div class="about-images">
                <div class="image-placeholder-large">
                    <img src="aunties1.jpg" alt="Women Empowerment">
                </div>
                <div class="image-placeholder-medium">
                    <img src="MinistryImage1.jpeg" alt="Ministry Building">
                </div>
                <div class="image-placeholder-small">
                    <img src="MinistryImage2.jpeg" alt="Government Office">
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="services-section">
        <div class="container-large">
            
            <div class="section-header">
                <span class="tag-explore">Explore</span>
                <h2>Explore Services by Category</h2>
            </div>
            
            <div class="category-grid">
                <a href="indian-constitution-women.html" class="category-card">
                    <div class="card-content">
                        <span class="material-icons-outlined icon">gavel</span>
                        <span>Indian Constitution and Women</span>
                    </div>
                    <span class="material-icons-outlined">chevron_right</span>
                </a>
                <a href="reproductive-rights.html" class="category-card">
                    <div class="card-content">
                        <span class="material-icons-outlined icon">favorite</span>
                        <span>Reproductive Rights</span>
                    </div>
                    <span class="material-icons-outlined">chevron_right</span>
                </a>
                <a href="bharatiya-nyaya-suraksha.html" class="category-card">
                    <div class="card-content">
                        <span class="material-icons-outlined icon">balance</span>
                        <span data-translate="Women Rights under Bharatiya Nyaya Suraksha Sanhita">Women Rights under Bharatiya Nyaya Suraksha Sanhita</span>
                    </div>
                    <span class="material-icons-outlined">chevron_right</span>
                </a>
                <a href="sexual-offences.html" class="category-card">
                    <div class="card-content">
                        <span class="material-icons-outlined icon">security</span>
                        <span>Sexual Offences Against Women</span>
                    </div>
                    <span class="material-icons-outlined">chevron_right</span>
                </a>
                <a href="marriage-offences.html" class="category-card">
                    <div class="card-content">
                        <span class="material-icons-outlined icon">volunteer_activism</span>
                        <span>Offences Related to Marriage</span>
                    </div>
                    <span class="material-icons-outlined">chevron_right</span>
                </a>
                <a href="cyber-crimes.html" class="category-card">
                    <div class="card-content">
                        <span class="material-icons-outlined icon">computer</span>
                        <span>Cyber Crimes Against Women</span>
                    </div>
                    <span class="material-icons-outlined">chevron_right</span>
                </a>
                <a href="other-offences.html" class="category-card">
                    <div class="card-content">
                        <span class="material-icons-outlined icon">report</span>
                        <span data-translate="Other Offences Relating to Women">Other Offences Relating to Women</span>
                    </div>
                    <span class="material-icons-outlined">chevron_right</span>
                </a>
            </div>

            <div id="popular-cases" class="section-header">
                <h2>Popular Cases</h2>
            </div>
            
            <div class="carousel-container">
                <button class="carousel-btn prev-btn" onclick="moveCarousel(-1)">
                    <span class="material-icons-outlined">chevron_left</span>
                </button>
                
                <div class="carousel-wrapper">
                    <div class="carousel-track">
                        <article class="case-card" style="--case-bg: #F3F9FF;" onclick="openCaseModal('shah-bano')">
                            <div class="case-icon-wrapper" style="--icon-bg: #E3F2FD;">
                                <span class="material-icons-outlined" style="color: #0B7BCB;">gavel</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">1985</span>
                                <span class="case-category">Maintenance after divorce</span>
                                <h3>Shah Bano Case</h3>
                                <p>Landmark case ensuring all divorced women can claim maintenance under CrPC 125</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #F5F9F4;" onclick="openCaseModal('danial-latifi')">
                            <div class="case-icon-wrapper" style="--icon-bg: #E3F2E2;">
                                <span class="material-icons-outlined" style="color: #34842E;">account_balance</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">2001</span>
                                <span class="case-category">Long-term financial support</span>
                                <h3>Danial Latifi Case</h3>
                                <p>Interpreted 1986 Act to guarantee long-term maintenance beyond iddat</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #FDF6F7;" onclick="openCaseModal('shamim-ara')">
                            <div class="case-icon-wrapper" style="--icon-bg: #FBE5E7;">
                                <span class="material-icons-outlined" style="color: #D32F2F;">verified</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">2002</span>
                                <span class="case-category">Validity of talaq</span>
                                <h3>Shamim Ara Case</h3>
                                <p>Court held talaq valid only if pronounced with reason, proof, and reconciliation attempts</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #FEFBF2;" onclick="openCaseModal('shayara-bano')">
                            <div class="case-icon-wrapper" style="--icon-bg: #FFF6DE;">
                                <span class="material-icons-outlined" style="color: #F9A825;">block</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">2017</span>
                                <span class="case-category">Instant Triple Talaq</span>
                                <h3>Shayara Bano Case</h3>
                                <p>Supreme Court declared instant Triple Talaq unconstitutional</p>
                            </div>
                        </article>
                        <!-- yoyoyo -->
                         <!-- hello -->
                        <article class="case-card" style="--case-bg: #F0F4FF;" onclick="openCaseModal('zunaideen')">
                            <div class="case-icon-wrapper" style="--icon-bg: #E0E7FF;">
                                <span class="material-icons-outlined" style="color: #6366F1;">psychology</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">1998</span>
                                <span class="case-category">Talaq in anger</span>
                                <h3>K. Zunaideen Case</h3>
                                <p>Divorce given in emotional outburst is invalid</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #F8F0FF;" onclick="openCaseModal('hina')">
                            <div class="case-icon-wrapper" style="--icon-bg: #F0E6FF;">
                                <span class="material-icons-outlined" style="color: #8B5CF6;">local_police</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">2020</span>
                                <span class="case-category">Illegal Triple Talaq</span>
                                <h3>Hina Case</h3>
                                <p>Husband punished under criminal law for attempting Triple Talaq after 2019 Act</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #F0FFF4;" onclick="openCaseModal('vishaka')">
                            <div class="case-icon-wrapper" style="--icon-bg: #E6FFED;">
                                <span class="material-icons-outlined" style="color: #16A34A;">security</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">1997</span>
                                <span class="case-category">Workplace harassment</span>
                                <h3>Vishaka Case</h3>
                                <p>Created Vishaka Guidelines leading to POSH Act 2013</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #FFF7ED;" onclick="openCaseModal('laxmi')">
                            <div class="case-icon-wrapper" style="--icon-bg: #FFEDD5;">
                                <span class="material-icons-outlined" style="color: #EA580C;">healing</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">2013</span>
                                <span class="case-category">Acid attacks</span>
                                <h3>Laxmi Case</h3>
                                <p>Regulated acid sale and increased punishments</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #FEF2F2;" onclick="openCaseModal('nirbhaya')">
                            <div class="case-icon-wrapper" style="--icon-bg: #FECACA;">
                                <span class="material-icons-outlined" style="color: #DC2626;">justice</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">2012-2017</span>
                                <span class="case-category">Sexual violence</span>
                                <h3>Nirbhaya Case</h3>
                                <p>Led to major reforms under Criminal Law Amendment Act 2013</p>
                            </div>
                        </article>
                        
                        <!-- Duplicate all cards for seamless loop -->
                        <article class="case-card" style="--case-bg: #F3F9FF;" onclick="openCaseModal('shah-bano')">
                            <div class="case-icon-wrapper" style="--icon-bg: #E3F2FD;">
                                <span class="material-icons-outlined" style="color: #0B7BCB;">gavel</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">1985</span>
                                <span class="case-category">Maintenance after divorce</span>
                                <h3>Shah Bano Case</h3>
                                <p>Landmark case ensuring all divorced women can claim maintenance under CrPC 125</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #F5F9F4;" onclick="openCaseModal('danial-latifi')">
                            <div class="case-icon-wrapper" style="--icon-bg: #E3F2E2;">
                                <span class="material-icons-outlined" style="color: #34842E;">account_balance</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">2001</span>
                                <span class="case-category">Long-term financial support</span>
                                <h3>Danial Latifi Case</h3>
                                <p>Interpreted 1986 Act to guarantee long-term maintenance beyond iddat</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #FDF6F7;" onclick="openCaseModal('shamim-ara')">
                            <div class="case-icon-wrapper" style="--icon-bg: #FBE5E7;">
                                <span class="material-icons-outlined" style="color: #D32F2F;">verified</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">2002</span>
                                <span class="case-category">Validity of talaq</span>
                                <h3>Shamim Ara Case</h3>
                                <p>Court held talaq valid only if pronounced with reason, proof, and reconciliation attempts</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #FEFBF2;" onclick="openCaseModal('shayara-bano')">
                            <div class="case-icon-wrapper" style="--icon-bg: #FFF6DE;">
                                <span class="material-icons-outlined" style="color: #F9A825;">block</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">2017</span>
                                <span class="case-category">Instant Triple Talaq</span>
                                <h3>Shayara Bano Case</h3>
                                <p>Supreme Court declared instant Triple Talaq unconstitutional</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #F0F4FF;" onclick="openCaseModal('zunaideen')">
                            <div class="case-icon-wrapper" style="--icon-bg: #E0E7FF;">
                                <span class="material-icons-outlined" style="color: #6366F1;">psychology</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">1998</span>
                                <span class="case-category">Talaq in anger</span>
                                <h3>K. Zunaideen Case</h3>
                                <p>Divorce given in emotional outburst is invalid</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #F8F0FF;" onclick="openCaseModal('hina')">
                            <div class="case-icon-wrapper" style="--icon-bg: #F0E6FF;">
                                <span class="material-icons-outlined" style="color: #8B5CF6;">local_police</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">2020</span>
                                <span class="case-category">Illegal Triple Talaq</span>
                                <h3>Hina Case</h3>
                                <p>Husband punished under criminal law for attempting Triple Talaq after 2019 Act</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #F0FFF4;" onclick="openCaseModal('vishaka')">
                            <div class="case-icon-wrapper" style="--icon-bg: #E6FFED;">
                                <span class="material-icons-outlined" style="color: #16A34A;">security</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">1997</span>
                                <span class="case-category">Workplace harassment</span>
                                <h3>Vishaka Case</h3>
                                <p>Created Vishaka Guidelines leading to POSH Act 2013</p>
                            </div>
                        </article>
                        
                        <article class="case-card" style="--case-bg: #FFF7ED;" onclick="openCaseModal('laxmi')">
                            <div class="case-icon-wrapper" style="--icon-bg: #FFEDD5;">
                                <span class="material-icons-outlined" style="color: #EA580C;">healing</span>
                            </div>
                            <div class="case-content">
                                <span class="case-year">2013</span>
                                <span class="case-category">Acid attacks</span>
                                <h3>Laxmi Case</h3>
                                <p>Regulated acid sale and increased punishments</p>
                            </div>
                        </article>
                    </div>
                </div>
                
                <button class="carousel-btn next-btn" onclick="moveCarousel(1)">
                    <span class="material-icons-outlined">chevron_right</span>
                </button>
            </div>

        </div>
    </section>

    <section id="faq" class="faq-section">
        <div class="container-small">
            <div class="faq-header">
                <div>
                    <span class="tag-faq">FAQs</span>
                    <h2>Have any questions?</h2>
                </div>
                <a href="#" class="btn btn-outline-dark">View All FAQs</a>
            </div>

            <div class="faq-accordion">
                <div class="faq-item">
                    <button class="faq-question">
                        <span>What are notified services?</span>
                        <span class="material-icons-outlined">add</span>
                    </button>
                    <div class="faq-answer">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed-non-urna-nec-ante-efficitur-convallis-quis-ac-libero.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">
                        <span>What is First Appeal?</span>
                        <span class="material-icons-outlined">add</span>
                    </button>
                    <div class="faq-answer">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed-non-urna-nec-ante-efficitur-convallis-quis-ac-libero.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">
                        <span>Who is an Appellate Authority?</span>
                        <span class="material-icons-outlined">add</span>
                    </button>
                    <div class="faq-answer">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed-non-urna-nec-ante-efficitur-convallis-quis-ac-libero.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">
                        <span>How do I file my First Appeal?</span>
                        <span class="material-icons-outlined">add</span>
                    </button>
                    <div class="faq-answer">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed-non-urna-nec-ante-efficitur-convallis-quis-ac-libero.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">
                        <span>How do I file an Appeal to the Commission?</span>
                        <span class="material-icons-outlined">add</span>
                    </button>
                    <div class="faq-answer">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed-non-urna-nec-ante-efficitur-convallis-quis-ac-libero.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <div class="support-band">
            <div class="container">
                <div class="support-text">
                    <h2>Need Support?</h2>
                    <p>Get immediate help through our 24x7 women helpline numbers and support services</p>
                    <div class="emergency-numbers">
                        <div class="emergency-item">
                            <span class="material-icons-outlined">phone</span>
                            <div>
                                <strong>Emergency: 112</strong>
                                <p>Police, Fire, Ambulance</p>
                            </div>
                        </div>
                        <div class="emergency-item">
                            <span class="material-icons-outlined">support_agent</span>
                            <div>
                                <strong>Women Helpline: 181</strong>
                                <p>National helpline for women in distress</p>
                            </div>
                        </div>
                        <div class="emergency-item">
                            <span class="material-icons-outlined">security</span>
                            <div>
                                <strong>NCW Helpline: 7827170170</strong>
                                <p>24x7 NCW direct helpline</p>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="helpline.html" class="btn btn-light-outline">
                    <span>Get in touch</span>
                    <span class="material-icons-outlined">arrow_forward</span>
                </a>
            </div>
        </div>

        <div class="main-footer">
            <div class="container">
                <div class="footer-col">
                    <div class="footer-logo">
                        <img src="https://via.placeholder.com/50" alt="MSPSDC Logo" class="footer-emblem"> 
                        <span>MSPSDC</span>
                    </div>
                    <div class="social-icons">
                        <a href="#"><img src="https://via.placeholder.com/32" alt="Social Icon"></a>
                        <a href="#"><img src="https://via.placeholder.com/32" alt="Social Icon"></a>
                        <a href="#"><img src="https://via.placeholder.com/32" alt="Social Icon"></a>
                    </div>
                    <span class="last-updated">Last updated: 02-05-24</span>
                </div>

                <div class="footer-col">
                    <h4>MSPSDC</h4>
                    <ul>
                        <li><a href="#">About us</a></li>
                        <li><a href="#">Services</a></li>
                        <li><a href="#">Dashboards</a></li>
                        <li><a href="#">Department</a></li>
                        <li><a href="#">Resources</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4>Citizens</h4>
                    <ul>
                        <li><a href="#">File First Appeal</a></li>
                        <li><a href="#">Appeal to Commission</a></li>
                        <li><a href="#">Department</a></li>
                        <li><a href="#">Notify Your Service</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4>Important Links</h4>
                    <ul>
                        <li><a href="#">Sitemap</a></li>
                        <li><a href="#">Right to Information</a></li>
                        <li><a href="#">Disclaimer</a></li>
                        <li><a href="#">FAQs</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4>Contact Us</h4>
                    <address>
                        Room 17, Horse Shoe<br>
                        Building, Lachumiere,<br>
                        Shillong, Meghalaya<br>
                        793001
                    </address>
                </div>
            </div>
        </div>

        <div class="copyright-bar">
            <div class="container">
                <span>Copyright © 2024 - All Rights Reserved - MSPSDC</span>
                <div class="policy-links">
                    <a href="#">Terms & Conditions</a>
                    <a href="#">Privacy Policy</a>
                    <a href="#">Contact Us</a>
                </div>
            </div>
        </div>
        
<!-- Chatbot Widget -->
<div class="chatbot-widget">
  <!-- Chat Icon -->
  <div class="chatbot-icon" onclick="toggleChatbot()">
    <i class="fas fa-comments"></i>
    <span class="notification-dot"></span>
  </div>
  
  <!-- Chat Window -->
  <div class="chatbot-container" id="chatbotContainer">
    <!-- Header -->
    <div class="chatbot-header">
      <div class="chatbot-title">
        <i class="fas fa-female"></i>
        <span>Women's Support</span>
      </div>
      <button class="close-btn" onclick="toggleChatbot()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <!-- Messages Area -->
    <div class="chatbot-messages" id="chatMessages">
      <!-- Initial message will be added here -->
    </div>
    
    <!-- Typing Indicator -->
    <div class="typing-indicator" id="typingIndicator">
      <span></span>
      <span></span>
      <span></span>
    </div>
    
    <!-- Input Area -->
    <div class="chatbot-input">
      <input type="text" 
             id="chatInput" 
             placeholder="Ask about legal rights, emergency help..." 
             onkeypress="handleChatKeyPress(event)">
      <button onclick="sendChatMessage()">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
    
    <!-- Quick Actions -->
    <div class="quick-actions">
      <button onclick="quickResponse('legal')">Legal Help</button>
      <button onclick="quickResponse('emergency')">Emergency</button>
      <button onclick="quickResponse('health')">Health</button>
    </div>
  </div>
</div>
    </footer>

<!-- Case Modal -->
<div id="case-modal" class="modal-overlay" hidden>
    <div class="modal-content">
        <button class="modal-close" onclick="closeCaseModal()">
            <span class="material-icons-outlined">close</span>
        </button>
        <div class="modal-body">
            <div class="modal-header">
                <h2 id="modal-case-title"></h2>
                <span id="modal-case-category" class="modal-category"></span>
            </div>
            <div class="modal-sections">
                <div class="modal-section">
                    <h3>Case Summary</h3>
                    <p id="modal-summary"></p>
                </div>
                <div class="modal-section">
                    <h3>Background</h3>
                    <p id="modal-background"></p>
                </div>
                <div class="modal-section">
                    <h3>What She Was Suffering</h3>
                    <p id="modal-suffering"></p>
                </div>
                <div class="modal-section">
                    <h3>What She Did</h3>
                    <p id="modal-action"></p>
                </div>
                <div class="modal-section">
                    <h3>Court's Judgement</h3>
                    <p id="modal-judgment"></p>
                </div>
                <div class="modal-section">
                    <h3>How This Case Helps Today</h3>
                    <p id="modal-impact"></p>
                </div>
            </div>
        </div>
    </div>
</div>

    <script>
        // Prevent font size glitch on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved theme immediately
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
            }
            // Load saved accessibility state
            const savedAccessibility = localStorage.getItem('accessibility');
            if (savedAccessibility === 'on') {
                document.body.classList.add('accessibility-mode');
            }
            
            // Load saved language after script.js loads
            setTimeout(() => {
                const savedLang = localStorage.getItem('selectedLanguage') || 'en';
                if (typeof translatePage === 'function') {
                    translatePage(savedLang);
                }
            }, 100);
        });
        
        function toggleTheme() {
            const body = document.body;
            const button = document.querySelector('.color-toggle');
            
            // If dropdown invoked this and button doesn't exist, skip transform
            if (button) button.style.transform = 'scale(0.9) rotate(360deg)';
            
            setTimeout(() => {
                body.classList.toggle('dark-theme');
                
                if (body.classList.contains('dark-theme')) {
                    localStorage.setItem('theme', 'dark');
                } else {
                    localStorage.setItem('theme', 'light');
                }
                
                if (button) button.style.transform = '';
            }, 150);
        }
        
        // Accessibility toggle: add/remove 'accessibility-mode' class and persist
        function toggleAccessibility() {
            const body = document.body;
            body.classList.toggle('accessibility-mode');
            const enabled = body.classList.contains('accessibility-mode');
            localStorage.setItem('accessibility', enabled ? 'on' : 'off');
        }
        
        // More dropdown helpers
        function toggleMoreDropdown(event) {
            event.stopPropagation();
            const dd = document.getElementById('more-dropdown');
            const btn = document.getElementById('more-btn');
            const isHidden = dd.hasAttribute('hidden');
            if (isHidden) {
                dd.removeAttribute('hidden');
                btn.setAttribute('aria-expanded', 'true');
                // close on outside click
                document.addEventListener('click', closeMoreDropdownOnDoc);
            } else {
                closeMoreDropdown();
            }
        }
        
        function closeMoreDropdown() {
            const dd = document.getElementById('more-dropdown');
            const btn = document.getElementById('more-btn');
            if (dd && !dd.hasAttribute('hidden')) {
                dd.setAttribute('hidden', '');
                btn.setAttribute('aria-expanded', 'false');
                document.removeEventListener('click', closeMoreDropdownOnDoc);
            }
        }
        
        function closeMoreDropdownOnDoc(e) {
            const wrapper = document.getElementById('more-links');
            if (!wrapper.contains(e.target)) closeMoreDropdown();
        }
    </script>
    <script src="script.js"></script>
    <script>
// Case Data
const caseData = {
  'shah-bano': {
    title: 'Shah Bano Case',
    category: 'Maintenance after divorce',
    summary: 'Shah Bano, a 62-year-old woman, was divorced via instant Triple Talaq after decades of marriage. Left with no financial support, she approached court seeking maintenance under Section 125 CrPC, applicable to all wives unable to maintain themselves.',
    background: 'Elderly woman abandoned after decades of marriage. Fully financially dependent on husband. Divorced instantly without support. No livelihood or savings.',
    suffering: 'Total financial insecurity. No money for food, rent, or healthcare. Social isolation and emotional trauma. Fear of survival in old age.',
    action: 'Filed a maintenance petition under CrPC 125. Challenged husband\'s refusal based on personal law. Pursued the case through multiple courts up to the Supreme Court.',
    judgment: 'Supreme Court ruled: CrPC 125 applies to all women, regardless of religion. Husband MUST pay maintenance if wife cannot maintain herself. Personal laws cannot override constitutional protections.',
    impact: 'Any woman—of any religion—abandoned after divorce can: File under CrPC 125 for monthly maintenance. Seek free help from legal aid services. Obtain court-ordered financial support based on husband\'s income.'
  },
  'danial-latifi': {
    title: 'Danial Latifi vs Union of India',
    category: 'Long-term financial support',
    summary: 'After the Shah Bano backlash, the govt passed Muslim Women Act (1986). It was misinterpreted to limit maintenance to iddat (3 months). Lawyer Danial Latifi challenged this before the Supreme Court.',
    background: 'Act seemed to weaken rights of divorced Muslim women. Many women were getting only 3 months\' worth of support. Increased poverty and vulnerability.',
    suffering: 'No long-term financial security. Forced dependence on family or remarriage. Poverty after iddat. No stable support for children.',
    action: 'Law challenged by women\'s rights advocates. Petition filed to ensure constitutional interpretation.',
    judgment: 'Supreme Court ruled: Husband must make a "fair and reasonable provision" for wife\'s ENTIRE FUTURE. Payment may be lump-sum or long-term. 1986 Act must be read in line with constitutional protections.',
    impact: 'A divorced Muslim woman can demand: Major long-term financial settlement. Protection from poverty after divorce.'
  },
  'shamim-ara': {
    title: 'Shamim Ara vs State of UP',
    category: 'Validity of talaq',
    summary: 'Her husband claimed he divorced her years ago using oral talaq but produced no proof. She challenged this fake divorce claim.',
    background: 'Husband fabricated date of divorce. No written proof or witnesses. Used false talaq claim to deny rights.',
    suffering: 'Sudden abandonment. No maintenance. Social pressure and uncertainty. Mental harassment.',
    action: 'Took the case to court. Demanded procedural requirements for talaq.',
    judgment: 'Supreme Court ruled: Talaq MUST follow Quranic procedure. Husband must show: 1. Reasonable cause. 2. Proof of talaq. 3. Attempt at reconciliation. Unsupported talaq claims are INVALID.',
    impact: 'Women can challenge: Fake talaq claims. Undocumented verbal talaq. Forced or manipulated divorces.'
  },
  'shayara-bano': {
    title: 'Shayara Bano vs Union of India',
    category: 'Instant Triple Talaq',
    summary: 'Shayara Bano was divorced through instantaneous Triple Talaq, losing her marriage and security instantly. She challenged its constitutionality.',
    background: 'Married for years. Husband divorced her suddenly via letter. No chance for reconciliation or response.',
    suffering: 'Shock and emotional trauma. Financial insecurity. Social stigma and humiliation. Loss of marital rights without process.',
    action: 'Filed petition before a Constitutional Bench. Claimed talaq-e-biddat violates Articles 14 & 21.',
    judgment: 'Instant Triple Talaq is unconstitutional. Violates dignity, equality, and due process. Not essential to Islam.',
    impact: 'If husband attempts instant Triple Talaq: It is illegal. She can file FIR under 2019 Act. Husband can face 3 years of imprisonment.'
  },
  'zunaideen': {
    title: 'K. Zunaideen vs Ameena Begum',
    category: 'Talaq in anger',
    summary: 'Husband pronounced talaq in anger during a fight. Wife challenged its validity.',
    background: 'Frequent disputes. Husband emotionally unstable. No attempt at reconciliation.',
    suffering: 'Emotional abuse. Sudden marital breakup. No financial stability. Lack of clarity about marriage status.',
    action: 'Filed legal challenge. Argued that talaq violated procedure.',
    judgment: 'Court held: Talaq in anger is not valid. Divorce must be thoughtful, deliberate, and follow set steps.',
    impact: 'A woman can challenge: Emotional, impulsive talaq. Divorce pronounced during fights.'
  },
  'hina': {
    title: 'Hina Case',
    category: 'Illegal Triple Talaq',
    summary: 'Hina\'s husband attempted instant Triple Talaq even after the 2019 Act banned it.',
    background: 'Husband repeatedly threatened talaq. Emotional blackmail. Continued illegal practice.',
    suffering: 'Fear of illegal divorce. Domestic harassment. No stability for children.',
    action: 'Filed FIR under Triple Talaq (2019) Act.',
    judgment: 'Husband arrested. Case registered. Provided safety to woman.',
    impact: 'Women can immediately: File FIR. Seek police protection. Stop illegal divorce attempts.'
  },
  'vishaka': {
    title: 'Vishaka vs State of Rajasthan',
    category: 'Workplace harassment',
    summary: 'Filed after social worker Bhanwari Devi was assaulted for preventing child marriage.',
    background: 'No workplace harassment law existed. Women unsafe in field jobs.',
    suffering: 'Assault. Social pressure. Trauma and injustice.',
    action: 'Women\'s groups filed PIL demanding protection.',
    judgment: 'Supreme Court created Vishaka Guidelines: Mandatory internal complaint committees. Employer responsibility for safety.',
    impact: 'Women can complain under POSH Act in ANY workplace (schools, colleges, offices).'
  },
  'laxmi': {
    title: 'Laxmi vs Union of India',
    category: 'Acid attacks',
    summary: 'Teenager Laxmi survived an acid attack and filed PIL demanding stricter laws.',
    background: 'Acid was sold freely to anyone. Attackers faced weak punishment.',
    suffering: 'Permanent injuries. Psychological trauma. Expensive medical operations.',
    action: 'Filed PIL to regulate acid sales.',
    judgment: 'Acid cannot be sold without ID. Stronger punishments introduced. Victims must receive compensation.',
    impact: 'Acid buyers must provide ID. Police must act immediately on complaints.'
  },
  'nirbhaya': {
    title: 'Nirbhaya Case',
    category: 'Sexual violence',
    summary: 'A young woman was brutally assaulted in Delhi, triggering nationwide protests.',
    background: 'Lack of fast police response. Weak sexual assault laws.',
    suffering: 'Life-threatening injuries. Emotional and physical trauma. National outrage.',
    action: 'Fast-track court trial. Justice Verma Committee formed.',
    judgment: 'Death penalty for convicts. Stronger rape laws created.',
    impact: 'Women now have: Faster trials. Harsher punishments for offenders. Protection against stalking & voyeurism.'
  }
};

// Open case modal
function openCaseModal(caseId) {
  const caseInfo = caseData[caseId];
  if (!caseInfo) return;
  
  document.getElementById('modal-case-title').textContent = caseInfo.title;
  document.getElementById('modal-case-category').textContent = caseInfo.category;
  document.getElementById('modal-summary').textContent = caseInfo.summary;
  document.getElementById('modal-background').textContent = caseInfo.background;
  document.getElementById('modal-suffering').textContent = caseInfo.suffering;
  document.getElementById('modal-action').textContent = caseInfo.action;
  document.getElementById('modal-judgment').textContent = caseInfo.judgment;
  document.getElementById('modal-impact').textContent = caseInfo.impact;
  
  const modal = document.getElementById('case-modal');
  modal.removeAttribute('hidden');
  modal.classList.add('active');
}

// Close case modal
function closeCaseModal() {
  const modal = document.getElementById('case-modal');
  modal.setAttribute('hidden', '');
  modal.classList.remove('active');
}

// Close modal on outside click
document.addEventListener('click', (e) => {
  if (e.target.classList.contains('modal-overlay')) {
    closeCaseModal();
  }
});

    <script>
// Chatbot Configuration
const chatbotResponses = {
  greeting: [
    "Hello! I'm here to help with women's rights and support information. How can I assist you today? 💜",
    "Hi there! I can provide information about legal rights, emergency contacts, health resources, and safety tips. What do you need help with?"
  ],
  
  legal: [
    "**Legal Rights Summary:**\n\n• Protection from Domestic Violence (PWDV Act)\n• Workplace Safety & POSH Act\n• Maternity Benefits\n• Dowry Prohibition\n• Right to Maintenance\n\nWhich specific area would you like to know more about?",
    "Based on your platform content:\n\n1. **Constitutional Rights:** Articles 14, 15, 16 guarantee equality\n2. **POSH Act:** Protection from workplace harassment\n3. **DV Act:** Protection from domestic violence\n4. **Maternity Benefits:** Paid leave and job protection\n5. **PCPNDT Act:** Against sex determination"
  ],
  
  emergency: [
    "**🚨 Emergency Contacts:**\n\n• Police: 100\n• Women Helpline: 1091\n• National Commission for Women: 011-26944880\n• Medical: 108\n• Domestic Violence: 181\n\nFor immediate danger, call the nearest police station!",
    "**Immediate Help Options:**\n\n1. File FIR at police station\n2. Contact Protection Officer\n3. Approach District Magistrate\n4. Reach women's shelter\n5. Call legal aid services\n\nAll services are FREE and confidential."
  ],
  
  health: [
    "**Health Support Available:**\n\n• Free medical checkups at government hospitals\n• Mental health counseling\n• Reproductive health services\n• Nutrition guidance\n• Maternity care\n\nVisit your nearest government hospital for assistance.",
    "**Healthcare Rights:**\n\n1. Free treatment in government hospitals\n2. Maternity benefits including prenatal care\n3. Mental health support\n4. Sexual and reproductive health services\n5. HIV/AIDS prevention and treatment"
  ],
  
  general: [
    "I can help you with:\n\n• Legal rights information\n• Emergency procedures\n• Health resources\n• Filing complaints\n• Support services\n\nPlease ask about a specific topic or use the quick buttons below.",
    "You can ask me about:\n\n- How to file a police complaint\n- Legal rights under various acts\n- Emergency contact numbers\n- Healthcare facilities\n- Safety guidelines\n\nOr click the quick action buttons for immediate topics."
  ]
};

// Chatbot State
let isChatOpen = false;
let chatHistory = [];

// Initialize chatbot
function initChatbot() {
  addBotMessage(getRandomResponse('greeting'));
}

// Toggle chatbot visibility
function toggleChatbot() {
  const container = document.getElementById('chatbotContainer');
  isChatOpen = !isChatOpen;
  
  if (isChatOpen) {
    container.classList.add('active');
    document.getElementById('chatInput').focus();
  } else {
    container.classList.remove('active');
  }
}

// Add message to chat
function addMessage(text, sender) {
  const messagesDiv = document.getElementById('chatMessages');
  const messageDiv = document.createElement('div');
  messageDiv.className = `message ${sender}`;
  
  if (sender === 'bot') {
    messageDiv.innerHTML = formatBotMessage(text);
  } else {
    messageDiv.textContent = text;
  }
  
  messagesDiv.appendChild(messageDiv);
  
  // Scroll to bottom
  messagesDiv.scrollTop = messagesDiv.scrollHeight;
  
  // Save to history
  chatHistory.push({text, sender, time: new Date()});
  
  // Keep only last 50 messages
  if (chatHistory.length > 50) {
    chatHistory = chatHistory.slice(-50);
  }
}

// Add bot message
function addBotMessage(text) {
  addMessage(text, 'bot');
}

// Add user message
function addUserMessage(text) {
  addMessage(text, 'user');
}

// Send message function
function sendChatMessage() {
  const input = document.getElementById('chatInput');
  const message = input.value.trim();
  
  if (!message) return;
  
  // Add user message
  addUserMessage(message);
  input.value = '';
  
  // Show typing indicator
  showTyping(true);
  
  // Process after delay
  setTimeout(() => {
    processMessage(message);
    showTyping(false);
  }, 800);
}

// Process user message
function processMessage(message) {
  const lowerMsg = message.toLowerCase();
  let response = '';
  
  if (lowerMsg.includes('hello') || lowerMsg.includes('hi') || lowerMsg.includes('hey')) {
    response = getRandomResponse('greeting');
  } 
  else if (lowerMsg.includes('legal') || lowerMsg.includes('right') || lowerMsg.includes('law')) {
    response = getRandomResponse('legal');
  }
  else if (lowerMsg.includes('emergency') || lowerMsg.includes('urgent') || lowerMsg.includes('help')) {
    response = getRandomResponse('emergency');
  }
  else if (lowerMsg.includes('health') || lowerMsg.includes('medical') || lowerMsg.includes('doctor')) {
    response = getRandomResponse('health');
  }
  else if (lowerMsg.includes('thank') || lowerMsg.includes('thanks')) {
    response = "You're welcome! Stay safe and empowered. Reach out anytime you need help. 💜";
  }
  else if (lowerMsg.includes('bye') || lowerMsg.includes('goodbye')) {
    response = "Goodbye! Remember, help is always available. Take care!";
  }
  else {
    response = getRandomResponse('general');
  }
  
  addBotMessage(response);
}

// Quick response buttons
function quickResponse(type) {
  const messages = {
    legal: "Tell me about legal rights",
    emergency: "I need emergency contacts",
    health: "Health resources information"
  };
  
  document.getElementById('chatInput').value = messages[type];
  sendChatMessage();
}

// Show/hide typing indicator
function showTyping(show) {
  const indicator = document.getElementById('typingIndicator');
  indicator.classList.toggle('active', show);
  
  if (show) {
    const messagesDiv = document.getElementById('chatMessages');
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
  }
}

// Handle Enter key press
function handleChatKeyPress(event) {
  if (event.key === 'Enter') {
    sendChatMessage();
  }
}

// Format bot messages for better readability
function formatBotMessage(text) {
  return text
    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
    .replace(/\n\n/g, '<br><br>')
    .replace(/\n/g, '<br>')
    .replace(/•/g, '&bull;')
    .replace(/\d+\./g, '<strong>$&</strong>');
}

// Get random response from category
function getRandomResponse(category) {
  const responses = chatbotResponses[category];
  return responses[Math.floor(Math.random() * responses.length)];
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', initChatbot);
    </script>
    <!-- add robust smooth offset scroll helper -->
<script>
/* filepath: d:\Desktop\NCW\NCW.Lakshay\Website\index.html (injected script) */
(function(){
	const headerSelector = '.main-header';
	const topBarSelector = '.top-bar';

	function getHeaderOffset() {
		let offset = 0;
		const topBar = document.querySelector(topBarSelector);
		const header = document.querySelector(headerSelector);
		if (topBar) offset += topBar.getBoundingClientRect().height;
		if (header) offset += header.getBoundingClientRect().height;
		return Math.round(offset) + 8;
	}

	function scrollToId(id, updateHash = true) {
		const el = document.getElementById(id.replace(/^#/,''));
		if (!el) return false;
		const y = el.getBoundingClientRect().top + window.pageYOffset - getHeaderOffset();
		window.scrollTo({ top: Math.max(0, Math.floor(y)), behavior: 'smooth' });
		if (updateHash) history.replaceState(null, '', id);
		return true;
	}

	// Primary: attach capture-phase listeners to header nav and top-bar skip link so clicks are handled before other handlers
	function bindNavAnchors() {
		const selectors = [
			'.main-nav a',           // main navigation
			'.top-bar .skip-link',   // skip-to content
			'.explore-btn',          // hero explore button
			'.more-dropdown a'       // any drop-down links if present
		];
		const nodes = document.querySelectorAll(selectors.join(','));
		nodes.forEach(a => {
			// use capture to ensure we handle before other scripts
			a.addEventListener('click', function(e){
				const href = (a.getAttribute('href') || '').trim();
				if (!href || !href.startsWith('#') || href === '#') return;
				if (scrollToId(href, true)) {
					e.preventDefault();
					// close more-dropdown if open (optional)
					try { closeMoreDropdown(); } catch (err) {}
				}
			}, { capture: true });
		});
	}

	// fallback: also intercept any remaining anchor clicks on the document
	document.addEventListener('click', function(e){
		const a = e.target.closest('a');
		if (!a) return;
		const href = (a.getAttribute('href') || '').trim();
		if (!href.startsWith('#') || href === '#') return;
		// only attempt if target exists
		if (scrollToId(href, true)) e.preventDefault();
	}, { passive: true });

	// initialize
	document.addEventListener('DOMContentLoaded', function(){
		bindNavAnchors();
		// if a hash exists on load, scroll to it with offset
		if (location.hash && location.hash.length > 1) {
			setTimeout(() => scrollToId(location.hash, false), 50);
		}
	});
})();
</script>
<!-- Case Modal -->
    <div id="case-modal" class="modal-overlay" hidden>
        <div class="modal-content">
            <button class="modal-close" onclick="closeCaseModal()">
                <span class="material-icons-outlined">close</span>
            </button>
            <div class="modal-body">
                <div class="modal-header">
                    <h2 id="modal-case-title"></h2>
                    <span id="modal-case-category" class="modal-category"></span>
                </div>
                <div class="modal-sections">
                    <div class="modal-section">
                        <h3>Case Summary</h3>
                        <p id="modal-summary"></p>
                    </div>
                    <div class="modal-section">
                        <h3>Background</h3>
                        <p id="modal-background"></p>
                    </div>
                    <div class="modal-section">
                        <h3>What She Was Suffering</h3>
                        <p id="modal-suffering"></p>
                    </div>
                    <div class="modal-section">
                        <h3>What She Did</h3>
                        <p id="modal-action"></p>
                    </div>
                    <div class="modal-section">
                        <h3>Court's Judgement</h3>
                        <p id="modal-judgment"></p>
                    </div>
                    <div class="modal-section">
                        <h3>How This Case Helps Today</h3>
                        <p id="modal-impact"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>